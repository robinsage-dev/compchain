module.exports = {
    path: __dirname,
    name: "Redis",
    namespace: "redis",
    env: {
        RB_REDIS_PORT: 6379,
        RB_REDIS_SERVER: '127.0.0.1',
        RB_REDIS_PREFIX: '',
        RB_REDIS_SECRET: 'ROBINBASEREDIS',
    },
    compileEnv: function(config)
    {
        if (config.RB_REDIS_PREFIX == '')
        {
            console.log('process.cwd()', process.cwd());
            var currentDir = process.cwd();
            var currentDirArr = currentDir.split('/');
            if (currentDirArr[0] == '')
            {
                currentDirArr.shift();
            }

            config.RB_REDIS_PREFIX = 'robinbase:' + currentDirArr.join(':')+":";
            console.log('RB_REDIS_PREFIX', config.RB_REDIS_PREFIX);
        }
    }
}